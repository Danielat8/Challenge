<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Books List</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />

  </head>
  <body>
    <div>
      <h2>Books</h2>
      <ul id="booksList">
      </ul>
    </div>

    <div class="table01">
      <table class="table table-hover">
        <thead>
          <tr>
            <th>Title</th>
            <th>Author</th>
            <th>Max Pages</th>
            <th>On Page</th>
            <th>Progress</th>
          </tr>
        </thead>
        <tbody>
       
          </div>
         
        </tbody>
      </table>
    </div>

    <form id="addBookForm">
      <h2 class="mt-5 mb-5">Add book to this list</h2>
      <label for="title">Title:</label>
      <input type="text" id="title" name="title" />
      <label for="author">Author:</label>
      <input type="text" id="author" name="author" />
      <label for="maxPages">Max Pages:</label>
      <input type="number" id="maxPages" name="maxPages" />
      <label for="onPage">On Page:</label>
      <input type="number" id="onPage" name="onPage" />
      <button type="submit">Add Book</button>
    </form>

    <script>
     
      let BookArr = [
        {
          title: "The Hobbit",
          author: "J.R.R. Tolkien",
          maxPages: 300,
          onPage: 100,
        },
        {
          title: "The Lord of the Rings",
          author: "J.R.R. Tolkien",
          maxPages: 1000,
          onPage: 1000,
        },
        {
          title: "The Lord of the Rings",
          author: "J.R.R. Tolkien",
          maxPages: 1000,
          onPage: 1000,
        },
      ];

      const booksList = document.getElementById("booksList");

    
      BookArr.forEach((book) => {
       
        const listItem = document.createElement("li");

      
        const bookInfo = document.createTextNode(
          `${book.title} by ${book.author}`
        );

       
        listItem.appendChild(bookInfo);

        booksList.appendChild(listItem);
      });
      BookArr.forEach((book) => {
       
        const listItem = document.createElement("li");

      
        if (book.maxPages === book.onPage) {
        
          listItem.style.color = "green";
          listItem.textContent = `You already read "${book.title}" by ${book.author}`;
        } else {
       
          listItem.style.color = "red";
          listItem.textContent = `You still need to read "${book.title}" by ${book.author}`;
        }
        booksList.appendChild(listItem);
      });

     
      const table = document.getElementById("booksTable");

      const tableBody = document.querySelector(".table01 table tbody");
      function calculateProgress(onPage, maxPages)
      {
        return (onPage / maxPages) * 100;
      }
  // Progres bar     
      function createProgressBar(value) {
        const progressBar = document.createElement("div");
        progressBar.setAttribute("id", "myProgress");
        progressBar.style.width = "100%";
        progressBar.style.backgroundColor = "#ddd";
        const bar = document.createElement("div");
        bar.setAttribute("id", "myBar");
        bar.style.width = `${value}%`;
        bar.style.backgroundColor = "#04AA6D";
        bar.style.textAlign = "center";
        bar.style.lineHeight = "30px";
        bar.style.color = "white";
        bar.textContent = `${value.toFixed(2)}%`;
        progressBar.appendChild(bar);
        return progressBar;
      }
 
      BookArr.forEach((book) => {
        const newRow = tableBody.insertRow();
        
        newRow.insertCell(0).textContent = book.title;
        newRow.insertCell(1).textContent = book.author;
        newRow.insertCell(2).textContent = book.maxPages;
        newRow.insertCell(3).textContent = book.onPage;
        
        const progress = calculateProgress(book.onPage, book.maxPages);
        const progressCell = newRow.insertCell(4);
        progressCell.appendChild(createProgressBar(progress));
      });
      
      
      document.getElementById("addBookForm").addEventListener("submit", function (event) {
        event.preventDefault(); 
        const title = document.getElementById("title").value;
        const author = document.getElementById("author").value;
        const maxPages = parseInt(document.getElementById("maxPages").value);
        const onPage = parseInt(document.getElementById("onPage").value);
      
        
        if (title === "" || author === "" || isNaN(maxPages) || isNaN(onPage) || maxPages <= 0 || onPage < 0 || onPage > maxPages) {
          alert("Please enter valid values for title, author, max pages, and on page.");
          return;
        }
        
       
        const newBook = { title, author, maxPages, onPage };
        BookArr.push(newBook);
     
        const newRow = tableBody.insertRow();
        
      
        newRow.insertCell(0).textContent = newBook.title;
        newRow.insertCell(1).textContent = newBook.author;
        newRow.insertCell(2).textContent = newBook.maxPages;
        newRow.insertCell(3).textContent = newBook.onPage;
        
    
        const progress = (newBook.onPage / newBook.maxPages) * 100;
        const progressCell = newRow.insertCell(4);
        progressCell.appendChild(createProgressBar(progress));
        
        
        document.getElementById("title").value = "";
        document.getElementById("author").value = "";
        document.getElementById("maxPages").value = "";
        document.getElementById("onPage").value = "";
      });
      
      
      </script>

<script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
  </body>
  </html>
  